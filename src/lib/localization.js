// Localization system for English and Kannada
export const translations = {
  // Authentication
  "login.title": { en: "Sign in", kn: "ಸೈನ್ ಇನ್" },
  "login.username": { en: "Username", kn: "ಬಳಕೆದಾರ ಹೆಸರು" },
  "login.password": { en: "Password", kn: "ಪಾಸ್ವರ್ಡ್" },
  "login.forgotPassword": { en: "Forgot Password?", kn: "ಪಾಸ್ವರ್ಡ್ ಮರೆತಿದ್ದೀರಾ?" },
  
  // Navigation
  "nav.dashboard": { en: "Dashboard", kn: "ಡ್ಯಾಶ್ಬೋರ್ಡ್" },
  "nav.masterData": { en: "Master Data", kn: "ಮಾಸ್ಟರ್ ಡೇಟಾ" },
  "nav.gst": { en: "GST Records", kn: "GST ದಾಖಲೆಗಳು" },
  "nav.pan": { en: "PAN Records", kn: "PAN ದಾಖಲೆಗಳು" },
  "nav.ddo": { en: "DDO Details", kn: "DDO ವಿವರಗಳು" },
  "nav.hsn": { en: "HSN Details", kn: "HSN ವಿವರಗಳು" },
  "nav.bank": { en: "Bank Details", kn: "ಬ್ಯಾಂಕ್ ವಿವರಗಳು" },
  "nav.customers": { en: "Customers", kn: "ಗ್ರಾಹಕರು" },
  "nav.generateBill": { en: "Generate Bill", kn: "ಬಿಲ್ ರಚಿಸಿ" },
  "nav.invoiceList": { en: "Invoice List", kn: "ಚಲಾನ್ ಪಟ್ಟಿ" },
  "nav.reports": { en: "Reports", kn: "ವರದಿಗಳು" },
  "nav.settings": { en: "Settings", kn: "ಸettings" },
  "nav.logout": { en: "Logout", kn: "ಲಾಗ್ ಔಟ್" },
  "nav.aboutUs": { en: "ABOUT US", kn: "ನಮ್ಮ ಬಗ್ಗೆ" },
  "nav.contactUs": { en: "CONTACT US", kn: "ಸಂಪರ್ಕಿಸಿ" },
  "nav.admin": { en: "ADMIN", kn: "ಆಡಳಿತಗಾರ" },
  "nav.ddoButton": { en: "DDO", kn: "DDO" },
  
  // Labels
  "label.gstin": { en: "GSTIN Number", kn: "GSTIN ಸಂಖ್ಯೆ" },
  "label.ddoCode": { en: "DDO Code", kn: "DDO ಕೋಡ್" },
  "label.ddoName": { en: "DDO Name", kn: "DDO ಹೆಸರು" },
  "label.panNumber": { en: "PAN Number", kn: "PAN ಸಂಖ್ಯೆ" },
  "label.hsnNumber": { en: "HSN Number", kn: "HSN ಸಂಖ್ಯೆ" },
  "label.name": { en: "Name", kn: "ಹೆಸರು" },
  "label.address": { en: "Address", kn: "ವಿಳಾಸ" },
  "label.mobile": { en: "Mobile", kn: "ಮೊಬೈಲ್" },
  "label.email": { en: "Email", kn: "ಇಮೇಲ್" },
  "label.billNumber": { en: "Bill Number", kn: "ಬಿಲ್ ಸಂಖ್ಯೆ" },
  "label.date": { en: "Date", kn: "ದಿನಾಂಕ" },
  "label.customer": { en: "Customer", kn: "ಗ್ರಾಹಕ" },
  "label.description": { en: "Description", kn: "ವಿವರಣೆ" },
  "label.amount": { en: "Amount", kn: "ಮೊತ್ತ" },
  "label.total": { en: "Total", kn: "ಒಟ್ಟು" },
  "label.status": { en: "Status", kn: "ಸ್ಥಿತಿ" },
  
  // Buttons
  "btn.save": { en: "Save", kn: "ಉಳಿಸಿ" },
  "btn.cancel": { en: "Cancel", kn: "ರದ್ದುಮಾಡಿ" },
  "btn.edit": { en: "Edit", kn: "ಸಂಪಾದಿಸಿ" },
  "btn.delete": { en: "Delete", kn: "ಅಳಿಸಿ" },
  "btn.add": { en: "Add", kn: "ಸೇರಿಸಿ" },
  "btn.submit": { en: "Submit", kn: "ಸಲ್ಲಿಸಿ" },
  "btn.generateBill": { en: "Generate Bill", kn: "ಬಿಲ್ ರಚಿಸಿ" },
  "btn.addCustomer": { en: "Add Customer", kn: "ಗ್ರಾಹಕ ಸೇರಿಸಿ" },
  "btn.addRow": { en: "Add Row", kn: "ಸಾಲು ಸೇರಿಸಿ" },
  
  // Validations
  "validation.gstinFormat": { en: "Enter a valid GSTIN", kn: "ಸರಿಯಾದ GSTIN ನಮೂದಿಸಿ" },
  "validation.required": { en: "This field is required", kn: "ಈ ಫೀಲ್ಡ್ ಅಗತ್ಯವಿದೆ" },
  "validation.email": { en: "Enter a valid email", kn: "ಸರಿಯಾದ ಇಮೇಲ್ ನಮೂದಿಸಿ" },
  "validation.mobile": { en: "Enter a valid mobile number", kn: "ಸರಿಯಾದ ಮೊಬೈಲ್ ಸಂಖ್ಯೆ ನಮೂದಿಸಿ" },
  "validation.futureDate": { en: "Date cannot be in the future", kn: "ದಿನಾಂಕ ಭವಿಷ್ಯದಲ್ಲಿರಬಾರದು" },
  "validation.amountExceed": { en: "Paid amount cannot exceed total amount", kn: "ಪಾವತಿಸಿದ ಮೊತ್ತ ಒಟ್ಟು ಮೊತ್ತವನ್ನು ಮೀರಬಾರದು" },
  
  // Alerts
  "alert.submitBy10": { en: "All invoices must be submitted by the 10th of each month", kn: "ಎಲ್ಲಾ ಪಾವತಿಗಳು ಪ್ರತಿ ತಿಂಗಳ 10ಕ್ಕೆ ಸಲ್ಲಿಸಬೇಕು" },
  "alert.billNotReady": { en: "Bill cannot be submitted. Total amount must equal received amount", kn: "ಬಿಲ್ ಸಲ್ಲಿಸಲು ಸಾಧ್ಯವಿಲ್ಲ. ಒಟ್ಟು ಮೊತ್ತವು ಸ್ವೀಕರಿಸಿದ ಮೊತ್ತಕ್ಕೆ ಸಮನಾಗಿರಬೇಕು" },
  "alert.success": { en: "Operation successful", kn: "ಕಾರ್ಯಾಚರಣೆ ಯಶಸ್ವಿಯಾಗಿದೆ" },
  "alert.error": { en: "An error occurred", kn: "ದೋಷ ಸಂಭವಿಸಿದೆ" },
  
  // Dashboard
  "dashboard.totalGst": { en: "Total GST Records", kn: "ಒಟ್ಟು GST ದಾಖಲೆಗಳು" },
  "dashboard.totalPan": { en: "Total PAN Records", kn: "ಒಟ್ಟು PAN ದಾಖಲೆಗಳು" },
  "dashboard.totalDdo": { en: "Total DDOs", kn: "ಒಟ್ಟು DDOಗಳು" },
  "dashboard.totalHsn": { en: "Total HSN Codes", kn: "ಒಟ್ಟು HSN ಕೋಡ್ಗಳು" },
  "dashboard.totalBanks": { en: "Total Bank Details", kn: "ಒಟ್ಟು ಬ್ಯಾಂಕ್ ವಿವರಗಳು" },
  "dashboard.pendingBills": { en: "Pending Bills", kn: "ಬಾಕಿ ಬಿಲ್ಗಳು" },
  "dashboard.submittedBills": { en: "Submitted Bills", kn: "ಸಲ್ಲಿಸಿದ ಬಿಲ್ಗಳು" },
  "dashboard.recentBills": { en: "Recent Bills", kn: "ಇತ್ತೀಚಿನ ಬಿಲ್ಗಳು" },
  
  // Bill/Invoice
  "bill.taxableValue": { en: "Taxable Value", kn: "ತೆರಿಗೆ ಮೌಲ್ಯ" },
  "bill.gstAmount": { en: "GST Amount", kn: "GST ಮೊತ್ತ" },
  "bill.cgst": { en: "CGST (9%)", kn: "CGST (9%)" },
  "bill.sgst": { en: "SGST (9%)", kn: "SGST (9%)" },
  "bill.gstNotApplicable": { en: "GST Not Applicable (Government Entity)", kn: "GST ಅನ್ವಯಿಸುವುದಿಲ್ಲ (ಸರ್ಕಾರಿ ಸಂಸ್ಥೆ)" },
  "bill.finalAmount": { en: "Final Amount", kn: "ಅಂತಿಮ ಮೊತ್ತ" },
  "bill.paidAmount": { en: "Paid Amount", kn: "ಪಾವತಿಸಿದ ಮೊತ್ತ" },
  "bill.note": { en: "Note", kn: "ಟಿಪ್ಪಣಿ" },
  "bill.status.pending": { en: "Pending", kn: "ಬಾಕಿ" },
  "bill.status.submitted": { en: "Submitted", kn: "ಸಲ್ಲಿಸಿದ" },
  
  // Credit Note
  "creditNote.title": { en: "Add Credit Note", kn: "ಕ್ರೆಡಿಟ್ ನೋಟ್ ಸೇರಿಸಿ" },
  "creditNote.amount": { en: "Credit Amount", kn: "ಕ್ರೆಡಿಟ್ ಮೊತ್ತ" },
  "creditNote.reason": { en: "Reason", kn: "ಕಾರಣ" },
};

let currentLanguage = 'en';

export const setLanguage = (lang) => {
  if (typeof window !== 'undefined') {
    localStorage.setItem('preferredLanguage', lang);
  }
  currentLanguage = lang;
};

export const getLanguage = () => {
  // Always return 'en' during SSR to prevent hydration mismatches
  // Client-side will update via useEffect after hydration
  if (typeof window === 'undefined') {
    return 'en';
  }
  return localStorage.getItem('preferredLanguage') || 'en';
};

export const t = (key) => {
  const lang = getLanguage();
  return translations[key]?.[lang] || translations[key]?.en || key;
};

